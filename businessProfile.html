<head>
    <title>{title}</title>

    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <meta name="viewport" content="initial-scale=1.0, maximum-scale=5.0, width=device-width" />

    <link href="/assets/Fav icon/favicon.ico" rel="shortcut icon" />

    <link rel="stylesheet" type="text/css" href="/style/businessProfile.css" />


</head>
<body>

    <div class="background">

        <div class="bodyCover">
            <header class="header">
                <img src="/businessFinder/assets/La Familia Barista Academy.png" alt="" width="200px" height="150px" class="logo">
            </header>

            
            <h1 class="name">Name Surname</h1>

            <h3 class="position">Position</h3>
        
            <div class="content">
                
                <details>
                    <summary class="">
                        Contact Name
                    </summary>

                    <div>
                        <h4>
                            Name Surname
                        </h4>
                    
                        <a href="tel:{contactNumber1}">
                            012 345 6789
                        </a>

                        <a href="tel:contactNumber2">
                            012 345 6789
                        </a>

                        <a href="mailto:{emailAddress}">
                            email@address.co.za
                        </a>
                    
                        <address>
                            address
                        </address>
                        
                        <p>
                            Mon-Fri: 08h00 - 17h00 

                        </p>
                    </div>
                    <button class="button" id="saviID">
                        Save to contacts
                    </button>
                </details>
                
            
            
                {if website != ""}
                <div class="button">
                    <a href="{website}" class="buttonContent">
                        website
                    </a>
                </div>
                {/if}

            
            
                <details>
                    <summary class="buttonContent">
                        Company Profile
                    </summary>

                    <a href="" download="pdf">
                        <img src="" alt="" width="80%">
                    </a>
                </details>
            
                
            </div>


                    <!--Share button-->

            <div class="socialIcon">

                
                <a href="{facebook}" >
                    <img src="/assets/Facebook Icon.png" alt="facebook" width="45px" height="45px">
                </a>


                
                <a href="{instagram}">
                    <img src="/assets/Instagram Icon.png" alt="instagram" width="45px" height="45px">
                </a>
                
                <a href="linkedin">
                    <img src="/assets/LinkedIn Icon.png" alt="linkedin" width="45px" height="45px">
                </a>
                
                <a href="{whatsapp}">
                    <img src="/assets/Whatsapp Icon.png" alt="whatsapp" width="45px" height="45px">
                </a>
                    
            </div>
        </div>
    </div>

    <script>
        (function(){
            const makeVCardVersion = () => `VERSION:3.0`;
            const makeVCardName = (name) => `FN:${name}`;
            const makeVCardOrg = (org) => `ORG:${org}`;
            const makeVCardTitle = (title) => `TITLE:${title}`;
            const makeVCardTel = (phone) => `TEL;TYPE=WORK,VOICE:${phone}`;
            const makeVCardAdr = (address) => `ADR;TYPE=WORK,PREF:;;${address}`;
            const makeVCardEmail = (email) => `EMAIL:${email}`;
            const makeVCardURL = (url) => `URL:${url}`;
            const makeVCardTimeStamp = () => `REV:${new Date().toISOString()}`;
    
    
    function makeVCard({ name, org, title, phone, address, email, url }) {
    const vCard = `BEGIN:VCARD
    ${makeVCardVersion()}
    ${makeVCardName(name)}
    ${makeVCardOrg(org)}
    ${makeVCardTitle(title)}
    ${makeVCardTel(phone)}
    ${makeVCardAdr(address)}
    ${makeVCardEmail(email)}
    ${makeVCardURL(url)}
    ${makeVCardTimeStamp()}
    END:VCARD`;
    
    return vCard;
    }
    
    
            function createVCard(contact){
                const newLink = document.createElement('a');
                const vcard = makeVCard(contact)
                const blob = new Blob([vcard], { type: "text/vcard" });
    
                newLink.href = URL.createObjectURL(blob);
                newLink.download = `${contact.name}_vcard.vcf`;
                newLink.click();
    
                URL.revokeObjectURL(newLink.href);
            }
    
            // create one of these per contact
            document.getElementById("saveId").addEventListener("click", () => {
                const contact = {
                    name: "{firstName}{lastName}",
                    org: "Title",
                    phone: "{contactNumber1}",
                    email: "{email}",
                    url: "https://vbcard.mobi/url"
                };
    
                createVCard(contact)
            });
        }())
    </script>
</body>
